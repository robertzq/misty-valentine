[gd_scene load_steps=13 format=3 uid="uid://do30dlank3a34"]

[ext_resource type="PackedScene" uid="uid://5k1h5ukokfjl" path="res://scenes/player.tscn" id="1_sugp2"]
[ext_resource type="Script" uid="uid://b4kb3xps0j7ge" path="res://scripts/CameraFollow.gd" id="2_jyhfs"]
[ext_resource type="MeshLibrary" uid="uid://fg16h12vpbwp" path="res://my_tiles.tres" id="3_tbgi4"]

[sub_resource type="NavigationMesh" id="NavigationMesh_h2yge"]
vertices = PackedVector3Array(-249.31001, 1.440053, 1.0382996, -15.560013, 1.440053, 1.0382996, -15.310013, 1.440053, 0.03829956, -13.310013, 1.440053, -248.4617, -249.31001, 1.440053, -248.4617, -13.310013, 1.440053, 0.03829956, -0.5600128, 1.440053, 5.7882996, -0.060012817, 1.440053, 6.7882996, 1.4399872, 1.440053, 6.7882996, 1.9399872, 1.440053, 5.7882996, -11.310013, 1.440053, 1.7882996, -12.560013, 1.440053, 1.7882996, -12.060013, 1.440053, 4.0382996, -9.310013, 1.440053, 4.0382996, 3.1899872, 1.440053, 5.7882996, 3.6899872, 1.440053, 4.0382996, 5.939987, 1.440053, 2.2882996, 5.939987, 1.440053, 3.5382996, 7.689987, 1.440053, 4.0382996, 8.439987, 1.440053, 3.5382996, 9.189987, 1.440053, 3.7882996, 9.439987, 1.440053, -0.46170044, 9.439987, 1.440053, -1.7117004, 4.439987, 1.440053, 1.5382996, -11.060013, 1.440053, 0.28829956, 10.689987, 1.440053, -2.4617004, 10.689987, 1.440053, -248.4617, -9.060013, 1.440053, 4.7882996, -6.560013, 1.440053, 4.7882996, -6.060013, 1.440053, 3.7882996, -4.560013, 1.440053, 3.7882996, -4.060013, 1.440053, 5.2882996, -2.3100128, 1.440053, 6.0382996, 3.4399872, 1.440053, 2.5382996, 9.939987, 1.440053, 0.03829956, 11.439987, 1.440053, -2.2117004, 11.939987, 1.440053, -1.2117004, 250.18999, 1.440053, -1.2117004, 250.18999, 1.440053, -248.4617, 11.189987, 1.440053, 0.28829956, 9.939987, 1.440053, 4.5382996, 250.18999, 1.440053, 4.5382996, 11.939987, 1.440053, -0.46170044, -15.060013, 5.4300528, 0.53829956, -15.060013, 5.390053, 1.2882996, -11.560013, 5.390053, 1.2882996, -11.560013, 5.4300528, 0.53829956, -13.310013, 1.440053, 4.0382996, -15.310013, 1.440053, 1.7882996, -13.560013, 1.440053, 5.2882996, -249.31001, 1.440053, 251.0383, -13.810013, 1.440053, 251.0383, 4.439987, 2.990053, 3.5382996, 5.189987, 2.8300529, 3.5382996, 4.939987, 2.900053, 2.2882996, 3.9399872, 2.980053, 2.7882996, 3.9399872, 1.440053, 6.2882996, 5.189987, 1.440053, 4.2882996, 7.939987, 1.440053, 6.0382996, 7.439987, 1.440053, 5.7882996, 3.9399872, 1.440053, 7.5382996, 2.6899872, 1.440053, 8.2883, 2.6899872, 1.440053, 251.0383, 7.939987, 1.440053, 251.0383, 8.439987, 2.990053, 5.5382996, 9.189987, 2.8300529, 5.5382996, 8.939987, 2.900053, 4.2882996, 7.939987, 2.980053, 4.7882996, 9.689987, 1.440053, 6.0382996, 250.18999, 1.440053, 251.0383, -13.060013, 5.4300528, 4.5382996, -13.060013, 5.390053, 5.2882996, -9.560013, 5.390053, 5.2882996, -9.560013, 5.4300528, 4.5382996, -5.310013, 3.3300529, 4.5382996, -5.310013, 3.3400528, 5.0382996, -4.810013, 3.300053, 5.0382996, -4.810013, 3.3100529, 4.5382996, -4.560013, 1.440053, 6.0382996, -2.5600128, 1.440053, 7.5382996, -5.560013, 1.440053, 6.2882996, -6.560013, 1.440053, 5.5382996, -9.310013, 1.440053, 5.7882996, -13.310013, 1.440053, 5.7882996, -1.3100128, 1.440053, 251.0383, -1.3100128, 1.440053, 8.2883, -1.3100128, 3.3300529, 6.5382996, -1.3100128, 3.3400528, 7.0382996, -0.8100128, 3.300053, 7.0382996, -0.8100128, 3.3100529, 6.5382996, 1.4399872, 1.440053, 7.5382996, -0.060012817, 1.440053, 7.5382996)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(3, 5, 2), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(14, 9, 15), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 16), PackedInt32Array(16, 23, 20), PackedInt32Array(20, 23, 21), PackedInt32Array(21, 23, 22), PackedInt32Array(24, 5, 25), PackedInt32Array(25, 5, 26), PackedInt32Array(26, 5, 3), PackedInt32Array(28, 27, 13), PackedInt32Array(29, 24, 30), PackedInt32Array(30, 24, 22), PackedInt32Array(22, 24, 25), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 6), PackedInt32Array(6, 30, 33), PackedInt32Array(33, 30, 23), PackedInt32Array(28, 13, 29), PackedInt32Array(29, 13, 10), PackedInt32Array(29, 10, 24), PackedInt32Array(15, 9, 33), PackedInt32Array(33, 9, 6), PackedInt32Array(20, 19, 16), PackedInt32Array(30, 22, 23), PackedInt32Array(21, 34, 20), PackedInt32Array(37, 36, 35), PackedInt32Array(35, 25, 37), PackedInt32Array(37, 25, 26), PackedInt32Array(37, 26, 38), PackedInt32Array(20, 34, 39), PackedInt32Array(20, 39, 40), PackedInt32Array(40, 39, 42), PackedInt32Array(40, 42, 41), PackedInt32Array(41, 42, 37), PackedInt32Array(42, 36, 37), PackedInt32Array(46, 45, 43), PackedInt32Array(43, 45, 44), PackedInt32Array(12, 47, 11), PackedInt32Array(11, 47, 48), PackedInt32Array(48, 49, 0), PackedInt32Array(0, 49, 51), PackedInt32Array(0, 51, 50), PackedInt32Array(48, 47, 49), PackedInt32Array(0, 1, 48), PackedInt32Array(52, 55, 53), PackedInt32Array(53, 55, 54), PackedInt32Array(14, 15, 56), PackedInt32Array(56, 15, 57), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 62), PackedInt32Array(62, 58, 63), PackedInt32Array(17, 18, 57), PackedInt32Array(57, 18, 59), PackedInt32Array(57, 59, 56), PackedInt32Array(56, 59, 60), PackedInt32Array(64, 67, 65), PackedInt32Array(65, 67, 66), PackedInt32Array(40, 41, 68), PackedInt32Array(68, 41, 69), PackedInt32Array(68, 69, 63), PackedInt32Array(63, 58, 68), PackedInt32Array(73, 72, 70), PackedInt32Array(70, 72, 71), PackedInt32Array(77, 76, 74), PackedInt32Array(74, 76, 75), PackedInt32Array(32, 78, 31), PackedInt32Array(32, 79, 78), PackedInt32Array(78, 79, 80), PackedInt32Array(27, 28, 81), PackedInt32Array(27, 81, 82), PackedInt32Array(82, 81, 80), PackedInt32Array(82, 80, 83), PackedInt32Array(83, 80, 85), PackedInt32Array(83, 85, 84), PackedInt32Array(83, 84, 51), PackedInt32Array(83, 51, 49), PackedInt32Array(80, 79, 85), PackedInt32Array(89, 88, 86), PackedInt32Array(86, 88, 87), PackedInt32Array(91, 7, 90), PackedInt32Array(90, 7, 8), PackedInt32Array(90, 61, 91), PackedInt32Array(91, 61, 85), PackedInt32Array(85, 61, 62), PackedInt32Array(85, 62, 84)]
geometry_parsed_geometry_type = 1
cell_height = 0.01
agent_radius = 0.2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_0xm2m"]
frequency = 0.02

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_h2yge"]
noise = SubResource("FastNoiseLite_0xm2m")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ig7tw"]
albedo_color = Color(0.7263893, 0.3209023, 0.08591952, 1)
albedo_texture = SubResource("NoiseTexture2D_h2yge")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_0xm2m"]
material = SubResource("StandardMaterial3D_ig7tw")
size = Vector3(500, 0.5, 500)

[sub_resource type="BoxShape3D" id="BoxShape3D_h2yge"]
size = Vector3(500, 0.5, 500)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_h2yge"]

[sub_resource type="Sky" id="Sky_1bvp3"]
sky_material = SubResource("ProceduralSkyMaterial_h2yge")

[sub_resource type="Environment" id="Environment_lquwl"]
background_mode = 2
sky = SubResource("Sky_1bvp3")
ambient_light_energy = 1.5
volumetric_fog_enabled = true
volumetric_fog_density = 0.07
volumetric_fog_albedo = Color(0.7411765, 1, 1, 1)

[node name="world" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_sugp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.28995097, 1.3840742, 0)

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Player"]

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target_character")]
transform = Transform3D(0.70710677, -0.35355338, 0.6123724, 0, 0.8660254, 0.5, -0.70710677, -0.35355338, 0.6123724, 10, 10, 10)
projection = 1
size = 6.0
script = ExtResource("2_jyhfs")
target_character = NodePath("../Player")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.70710677, -0.61237246, 0.35355335, 0, 0.49999997, 0.86602545, -0.70710677, -0.61237246, 0.35355335, 123.25254, 48.40277, -74.42833)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.560009, -0.08995724, -0.2883048)
navigation_mesh = SubResource("NavigationMesh_h2yge")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.297, 1, 1.982)
mesh_library = ExtResource("3_tbgi4")
cell_size = Vector3(2, 1, 2)
data = {
"cells": PackedInt32Array(3, 0, 11, 65534, 1, 13, 0, 2, 13, 2, 2, 12, 6, 65534, 12, 5, 1, 11, 65530, 65535, 1, 65531, 1, 1)
}

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.560009, -1.1499469, 0.2883048)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.320095, 0)
mesh = SubResource("BoxMesh_0xm2m")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 2.32, 1)
shape = SubResource("BoxShape3D_h2yge")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lquwl")
